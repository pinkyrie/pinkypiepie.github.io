

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" href="/img/android-chrome-512x512.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#3C3D3F">
  <meta name="author" content="rye">
  <meta name="keywords" content="">
  
    <meta name="description" content="评价算法标准 stability  时间（最好 最坏 平均）  关键字比较次数 数据移动次数   空间（最好 最坏 平均）   排序分为comparison sorting 和 counting sorting In computer science, counting sort is an algorithm for sorting a collection of objects accordi">
<meta property="og:type" content="article">
<meta property="og:title" content="rye is coding">
<meta property="og:url" content="https://pinkyrie.github.io/2022/11/15/15/index.html">
<meta property="og:site_name" content="rye is coding">
<meta property="og:description" content="评价算法标准 stability  时间（最好 最坏 平均）  关键字比较次数 数据移动次数   空间（最好 最坏 平均）   排序分为comparison sorting 和 counting sorting In computer science, counting sort is an algorithm for sorting a collection of objects accordi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309217.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309187.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309028.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211191943514.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309764.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309924.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211191945893.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309412.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309584.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309702.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309638.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309827.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310023.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310505.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310044.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309476.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310564.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310697.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310442.png">
<meta property="og:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211192134408.png">
<meta property="article:published_time" content="2022-11-15T15:12:47.531Z">
<meta property="article:modified_time" content="2022-11-19T13:43:30.537Z">
<meta property="article:author" content="rye">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309217.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>rye is coding</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"pinkyrie.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', '');
        });
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Matoka&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg2.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text=""></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-15 23:12" pubdate>
          2022年11月15日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          34 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header"></h1>
            
              <p id="updated-time" class="note note-info" style="">
                
                  
                    本文最后更新于 2022年11月19日 晚上
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h2 id="评价算法标准"><a href="#评价算法标准" class="headerlink" title="评价算法标准"></a>评价算法标准</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43721542/article/details/106001300">stability</a></p>
</li>
<li><p>时间（最好 最坏 平均）</p>
<ul>
<li>关键字比较次数</li>
<li>数据移动次数</li>
</ul>
</li>
<li><p>空间（最好 最坏 平均）</p>
</li>
</ul>
<h3 id="排序分为comparison-sorting-和-counting-sorting"><a href="#排序分为comparison-sorting-和-counting-sorting" class="headerlink" title="排序分为comparison sorting 和 counting sorting"></a>排序分为comparison sorting 和 counting sorting</h3><ul>
<li>In <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_science">computer science</a>, <strong>counting sort</strong> is an <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Algorithm">algorithm</a> for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Sorting_algorithm">sorting</a> a collection of objects according to keys that are small positive <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Integer">integers</a>; that is, it is an <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Integer_sorting">integer sorting</a> algorithm. It operates by counting the number of objects that possess distinct key values, and applying prefix sum on those counts to determine the positions of each key value in the output sequence. Like other algorithms this sorting algorithm is not a comparison-based algorithm, it hashes the value in a temporary count array and uses them for sorting.</li>
</ul>
<h3 id="排序分为internal-和-external"><a href="#排序分为internal-和-external" class="headerlink" title="排序分为internal 和 external"></a>排序分为internal 和 external</h3><h2 id="insertion-sorting"><a href="#insertion-sorting" class="headerlink" title="insertion sorting"></a>insertion sorting</h2><ul>
<li><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309217.png" srcset="/img/loading.gif" lazyload alt="image-20221113163100785"></li>
</ul>
<h3 id="basics："><a href="#basics：" class="headerlink" title="basics："></a>basics：</h3><ul>
<li><p>for small inputs</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/insertion-sort.html">图演示</a></p>
</li>
</ul>
<h3 id="pseudo-code"><a href="#pseudo-code" class="headerlink" title="pseudo code"></a>pseudo code</h3><ul>
<li><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309187.png" srcset="/img/loading.gif" lazyload alt="image-20221113163648161"></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pseudocode">mark the first element as sorted<br>for each unsorted element x<br>extract x <br>for j = lastSortedIndex down to 0<br>if current element j &gt; x<br>move sorted element to the right by 1<br>break the loop and insert x here<br><br></code></pre></td></tr></table></figure>

<h3 id="C-code"><a href="#C-code" class="headerlink" title="C++code"></a>C++code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Insertion_Sort</span><span class="hljs-params">(ElementType A[], <span class="hljs-type">int</span> N)</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;N;i++)&#123;<br>		<span class="hljs-type">int</span> tmp = A[i]; <span class="hljs-comment">//+1</span><br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">-1</span>;j&gt;=<span class="hljs-number">0</span>;j--)&#123;<br>			<span class="hljs-keyword">if</span>(A[j]&gt;A[i])&#123;<br>				A[i]=A[j];<br>			&#125;<br>			<span class="hljs-keyword">else</span>&#123;<br>				A[j] = tmp; <span class="hljs-comment">//+1 解释了为什么是+2</span><br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br>		&#125;		<br>	&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertionSort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-type">int</span> i, key, j;<br>   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; n; i++)<br>   &#123;<br>       key = arr[i];<br>       j = i<span class="hljs-number">-1</span>;<br>       <span class="hljs-comment">/* Move elements of arr[0..i-1], that are</span><br><span class="hljs-comment">          greater than key, to one position ahead</span><br><span class="hljs-comment">          of their current position */</span><br>       <span class="hljs-keyword">while</span> (j &gt;= <span class="hljs-number">0</span> &amp;&amp; arr[j] &gt; key)<br>       &#123;<br>           arr[j+<span class="hljs-number">1</span>] = arr[j];<br>           j = j<span class="hljs-number">-1</span>;<br>       &#125;<br>       arr[j+<span class="hljs-number">1</span>] = key;<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309028.png" srcset="/img/loading.gif" lazyload alt="image-20221113170531829"></li>
</ul>
<h3 id="复杂度"><a href="#复杂度" class="headerlink" title="复杂度"></a>复杂度</h3><h4 id="时间复杂度："><a href="#时间复杂度：" class="headerlink" title="时间复杂度："></a>时间复杂度：</h4><p><a target="_blank" rel="noopener" href="https://cs.stackexchange.com/questions/21455/how-can-i-quantify-the-number-of-swaps-required-for-insertion-sort">交换次数取决于逆序对的个数</a></p>
<p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/time-complexity-insertion-sort-inversions/#:~:text=Therefore%20overall%20time%20complexity%20of,is%20sorted%20in%20reverse%20order.">详细解释时间复杂度与逆序对</a></p>
<p>If we take a closer look at the insertion sort code, we can notice that every iteration of while loop reduces one inversion. The while loop executes only if i &gt; j and arr[i] &lt; arr[j]. Therefore total number of while loop iterations (For all values of i) is same as number of inversions. Therefore overall time complexity of the insertion sort is O(n + f(n)) where f(n) is inversion count. If the inversion count is O(n), then the time complexity of insertion sort is O(n). In worst case, there can be n*(n-1)&#x2F;2 inversions. The worst case occurs when the array is sorted in reverse order. So the worst case time complexity of insertion sort is O(n2).</p>
<ul>
<li>第p趟插入<ul>
<li>最好：比较1次 <strong>移动两次</strong>（腾位置+插入新数）也就是两处+1</li>
<li>最坏：比较p次 移动<strong>p+2</strong>次 while loop里面会进行p次的移动 + 2</li>
</ul>
</li>
</ul>
<p>O(N^2)  最优情况下： O(N)  </p>
<p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211191943514.png" srcset="/img/loading.gif" lazyload alt="image-20221119194308341"></p>
<h4 id="空间复杂度："><a href="#空间复杂度：" class="headerlink" title="空间复杂度："></a>空间复杂度：</h4><p>O(1)原地排序（in place）</p>
<h2 id="shell-sort（改进直接插入排序-优化insertion-sort）"><a href="#shell-sort（改进直接插入排序-优化insertion-sort）" class="headerlink" title="shell sort（改进直接插入排序 优化insertion sort）"></a>shell sort（改进直接插入排序 优化insertion sort）</h2><ul>
<li><p>希尔排序，也称递减增量排序算法Shellsort is also known as diminishing increment sort.</p>
</li>
<li><p>增量：gap 该子数列相邻元素的下标差</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Shellsort">reference wiki</a></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309764.png" srcset="/img/loading.gif" lazyload alt="image-20221113214131923"></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://algostructure.com/sorting/shellsort.php">Shell Sort Algorithm Animation - algostructure.com</a></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309924.png" srcset="/img/loading.gif" lazyload alt="image-20221113215111601"></p>
</li>
</ul>
<h3 id="特别：折半插入"><a href="#特别：折半插入" class="headerlink" title="特别：折半插入"></a>特别：折半插入</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34914588">折半插入的增量</a><ul>
<li>增量：</li>
<li>增量取法 每次N&#x2F;2 &#x2F;2 &#x2F;2 &#x2F;2（折半）</li>
</ul>
</li>
</ul>
<h3 id="c-code"><a href="#c-code" class="headerlink" title="c++code"></a>c++code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Shell_Sort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br> <span class="hljs-comment">// Start with a big gap, then reduce the gap</span><br> <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> gap = n / <span class="hljs-number">2</span>; gap &gt; <span class="hljs-number">0</span>; gap /= <span class="hljs-number">2</span>) &#123;<br>  <span class="hljs-comment">// Do a gapped insertion sort for this gap size.</span><br>  <span class="hljs-comment">// The first gap elements arr[0..gap-1] are already in gapped order</span><br>  <span class="hljs-comment">// keep adding one more element until the entire array is</span><br>  <span class="hljs-comment">// gap sorted</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = gap; i &lt; n; i += <span class="hljs-number">1</span>) &#123;<br>   <span class="hljs-comment">// add arr[i] to the elements that have been gap sorted</span><br>   <span class="hljs-comment">// save arr[i] in temp and make a hole at position i</span><br>   <span class="hljs-type">int</span> temp = arr[i];<br> <br>   <span class="hljs-comment">// shift earlier gap-sorted elements up until the correct</span><br>   <span class="hljs-comment">// location for arr[i] is found</span><br>   <span class="hljs-type">int</span> j;<br>   <span class="hljs-keyword">for</span> (j = i; j &gt;= gap &amp;&amp; arr[j - gap] &gt; temp; j -= gap)<br>    arr[j] = arr[j - gap];<br> <br>   <span class="hljs-comment">// put temp (the original arr[i]) in its correct location</span><br>   arr[j] = temp;<br>  &#125;<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="复杂度-1"><a href="#复杂度-1" class="headerlink" title="复杂度"></a>复杂度</h3><h4 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h4><ul>
<li><p><strong>Best Case Complexity</strong><br>When the given array list is already sorted the total count of comparisons of each interval is equal to the size of the given array.<br><em>So best case complexity is Ω(n log(n))</em><br><strong>Average Case Complexity</strong></p>
<p>The shell sort Average Case Complexity depends on the interval selected by the programmer.<br><em>θ(n log(n)2)</em>.</p>
<p><em>THE Average Case Complexity: O(n*log n)~O(n1.25)</em></p>
</li>
</ul>
<h4 id="空间复杂度"><a href="#空间复杂度" class="headerlink" title="空间复杂度"></a>空间复杂度</h4><ul>
<li>O(1)</li>
</ul>
<h2 id="bubble-sorting"><a href="#bubble-sorting" class="headerlink" title="bubble sorting"></a>bubble sorting</h2><ul>
<li>适用于链表和数组（因为只按照一个方向进行sort和比较）<ul>
<li>有的算法不一定适用于链表结构</li>
</ul>
</li>
<li>稳定算法</li>
<li>效率和排序序列的初始顺序有关</li>
</ul>
<h3 id="pseudo-code-1"><a href="#pseudo-code-1" class="headerlink" title="pseudo code"></a>pseudo code</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/648d87dc4cfc">加入swapped优化 如果上一次遍历没有交换则已经有序</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pseudocode">Bubble_sort(list):                         // list 表示待排序序列<br>    for i &lt;- 0 to length(list)-1:          // 对于元素个数为 n 的 list 序列，需遍历 n-1 次，这里用 [0,length(list)-1) 表示。<br>        for j &lt;- 1 to length(list) - i:    // 从第 1 个元素开始遍历，遍历区间为 [1,length(list)-i)。<br>            if list[j] &gt; list[j+1]:        // 若进行降序排序，则改成 &lt; 小于号<br>                 swap(list[j] , list[j+1]) // 交换 2 个相邻元素的位置<br>    return list                            // 返回排好序的序列<br></code></pre></td></tr></table></figure>

<h3 id="c-code-1"><a href="#c-code-1" class="headerlink" title="c++ code"></a>c++ code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Bubble_Sort</span><span class="hljs-params">(ElementType A[], <span class="hljs-type">int</span> N)</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;N;i++)&#123;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j =<span class="hljs-number">1</span>;j&lt;N-i;j++)&#123; <span class="hljs-comment">//经过第i趟冒泡 有i个元素已经排好（在队尾）是最大的元素</span><br>			<span class="hljs-keyword">if</span>(A[j]&lt;A[j<span class="hljs-number">-1</span>])&#123;<br>				<span class="hljs-built_in">swap</span>(A[j],A[j<span class="hljs-number">-1</span>]);<br>			&#125;<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>优化版本：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Bubble_Sort</span><span class="hljs-params">(ElementType A[], <span class="hljs-type">int</span> N)</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;N;i++)&#123;<br>		<span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j =<span class="hljs-number">1</span>;j&lt;N-i;j++)&#123; <span class="hljs-comment">//经过第i趟冒泡 有i个元素已经排好（在队尾）是最大的元素</span><br>			<span class="hljs-keyword">if</span>(A[j]&lt;A[j<span class="hljs-number">-1</span>])&#123;<br>				<span class="hljs-built_in">swap</span>(A[j],A[j<span class="hljs-number">-1</span>]);<br>				flag = <span class="hljs-number">1</span>;<br>			&#125;<br>			<span class="hljs-keyword">if</span>(flag==<span class="hljs-number">0</span>)<br>			<span class="hljs-keyword">return</span>;<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="复杂度-2"><a href="#复杂度-2" class="headerlink" title="复杂度"></a>复杂度</h3><h4 id="稳定性"><a href="#稳定性" class="headerlink" title="稳定性"></a>稳定性</h4><ul>
<li>因为每次比较后如果两个相邻元素相等我们并不会将他们交换，所以冒泡不会改变相同元素的下标，所以冒泡排序是一个稳定的排序</li>
</ul>
<h4 id="时间复杂度-1"><a href="#时间复杂度-1" class="headerlink" title="时间复杂度"></a>时间复杂度</h4><ul>
<li><p>最好情况下的时间复杂度：如果元素本来就是有序的，那么一趟冒泡排序既可以完成排序工作 因此最好情况的时间复杂度为O(n)</p>
<p>比较次数：n-1</p>
<p>移动次数：0</p>
</li>
<li><p>最差情况的时间复杂度：如果数据元素本来就是逆序的 最坏情况子下的时间复杂度为O(n^2)。</p>
<p>比较次数：n(n-1)&#x2F;2</p>
<p>移动次数：3n(n-1)&#x2F;2</p>
</li>
<li><p>平均时间复杂度：O(n^2)</p>
</li>
</ul>
<h4 id="空间复杂度-1"><a href="#空间复杂度-1" class="headerlink" title="空间复杂度"></a>空间复杂度</h4><ul>
<li>O(1)</li>
</ul>
<h2 id="selection-sort"><a href="#selection-sort" class="headerlink" title="selection sort"></a>selection sort</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zh.khanacademy.org/computing/computer-science/algorithms/sorting-algorithms/a/selection-sort-pseudocode#:~:text=%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E4%BC%AA%E4%BB%A3%E7%A0%81%201%20%E6%89%BE%E5%88%B0%E6%9C%80%E5%B0%8F%E7%9A%84%E5%8D%A1%E7%89%87%E3%80%82%20%E7%94%A8%E7%AC%AC%E4%B8%80%E5%BC%A0%E5%8D%A1%E4%BA%A4%E6%8D%A2%E5%AE%83%E3%80%82%202%20%E6%89%BE%E5%88%B0%E7%AC%AC%E4%BA%8C%E5%B0%8F%E7%9A%84%E5%8D%A1%E3%80%82,%E7%94%A8%E7%AC%AC%E4%BA%8C%E5%BC%A0%E5%8D%A1%E4%BA%A4%E6%8D%A2%E5%AE%83%E3%80%82%203%20%E6%89%BE%E5%88%B0%E7%AC%AC%E4%B8%89%E5%B0%8F%E7%9A%84%E5%8D%A1%E3%80%82%20%E7%94%A8%E7%AC%AC%E4%B8%89%E5%BC%A0%E5%8D%A1%E4%BA%A4%E6%8D%A2%E5%AE%83%E3%80%82%204%20%E9%87%8D%E5%A4%8D%E6%9F%A5%E6%89%BE%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9C%80%E5%B0%8F%E7%9A%84%E5%8D%A1%EF%BC%8C%E5%B9%B6%E5%B0%86%E5%85%B6%E4%BA%A4%E6%8D%A2%E5%88%B0%E6%AD%A3%E7%A1%AE%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E7%9B%B4%E5%88%B0%E5%AE%8C%E6%88%90%E5%AF%B9%E9%98%B5%E5%88%97%E7%9A%84%E6%8E%92%E5%BA%8F%E3%80%82">演示</a></li>
<li>类似bubble sort 优点是 交换次数只有n-1 </li>
<li>缺陷：没有利用前一趟比较遍历获取的信息</li>
</ul>
<h3 id="c-code-2"><a href="#c-code-2" class="headerlink" title="c++ code"></a>c++ code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Selection_Sort</span><span class="hljs-params">(ElementType A[], <span class="hljs-type">int</span> N)</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;N<span class="hljs-number">-1</span>;i++)&#123;<br>		<span class="hljs-type">int</span> k = i<span class="hljs-number">-1</span>;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i;j&lt;N;j++)&#123;<br>			<span class="hljs-keyword">if</span>(A[j]&gt;A[i])&#123;<br>				k=j;<br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">if</span>(k!=i<span class="hljs-number">-1</span>)<br>		<span class="hljs-built_in">swap</span>(A[k],A[i<span class="hljs-number">-1</span>]);<br>	&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">selectionSort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> i, j, min_idx;<br> <br>    <span class="hljs-comment">// One by one move boundary of</span><br>    <span class="hljs-comment">// unsorted subarray</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n<span class="hljs-number">-1</span>; i++)<br>    &#123;<br>       <br>        <span class="hljs-comment">// Find the minimum element in</span><br>        <span class="hljs-comment">// unsorted array</span><br>        min_idx = i;<br>        <span class="hljs-keyword">for</span> (j = i+<span class="hljs-number">1</span>; j &lt; n; j++)<br>        <span class="hljs-keyword">if</span> (arr[j] &lt; arr[min_idx])<br>            min_idx = j;<br> <br>        <span class="hljs-comment">// Swap the found minimum element</span><br>        <span class="hljs-comment">// with the first element</span><br>        <span class="hljs-keyword">if</span>(min_idx!=i)<br>            <span class="hljs-built_in">swap</span>(&amp;arr[min_idx], &amp;arr[i]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="复杂度-3"><a href="#复杂度-3" class="headerlink" title="复杂度"></a>复杂度</h3><h4 id="稳定性-1"><a href="#稳定性-1" class="headerlink" title="稳定性"></a>稳定性</h4><ul>
<li>不稳定算法（存在非相邻元素的交换）</li>
</ul>
<h4 id="时间复杂度-2"><a href="#时间复杂度-2" class="headerlink" title="时间复杂度"></a>时间复杂度</h4><ul>
<li><p>选择排序的复杂度分析。第一次内循环比较N - 1次，然后是N-2次，N-3次，……，最后一次内循环比较1次。<br>共比较的次数是 <code>(N - 1) + (N - 2) + ... + 1</code>，求等差数列和，得 <code>(N - 1 + 1)* N / 2 = N^2 / 2</code>。<br>舍去最高项系数，其时间复杂度为 <code>O(N^2)</code>。</p>
<p>虽然选择排序和冒泡排序的时间复杂度一样，但实际上，选择排序进行的交换操作很少，最多会发生 N - 1次交换。</p>
</li>
<li><p>运行时间和输入无关</p>
</li>
<li><p>选择排序的交换操作介于0和(n-1)次之间。选择排序的比较操作为n(n-1)&#x2F;2次之间。选择排序的赋值操作介于0和3(n-1)次之间。</p>
<p>比较次数O(n^2)，比较次数与关键字的初始状态无关，总的比较次数N &#x3D; (n-1) + (n-2) +…+ 1 &#x3D; n x (n-1)&#x2F;2。交换次数O(n)，最好情况是，已经有序，交换0次；最坏情况是，逆序，交换n-1次。</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211191945893.png" srcset="/img/loading.gif" lazyload alt="image-20221119194542763"></p>
<h2 id="heap-sort（优化selection-sort-快速找到最小元）"><a href="#heap-sort（优化selection-sort-快速找到最小元）" class="headerlink" title="heap sort（优化selection sort 快速找到最小元）"></a>heap sort（优化selection sort 快速找到最小元）</h2><ul>
<li>充分利用了每一趟遍历比较的信息</li>
<li>堆分为<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%A4%A7%E6%A0%B9%E5%A0%86&spm=1001.2101.3001.7020">大根堆</a>和小根堆，是完全二叉树。大根堆的要求是每个节点的值都不大于其父节点的值，即A[PARENT[i]] &gt;&#x3D; A[i]。在数组的非降序排序中，需要使用的就是大根堆，因为根据大根堆的要求可知，最大的值一定在堆顶。<ul>
<li>heap可以用priority queue实现</li>
<li>Heapsort, sorts n numbers in place in O(n lg n) time. It uses an important data structure, called a heap, with which we can also implement a priority queue.</li>
<li>Using this model, we prove a lower bound of Ω(n lg n) on the worst-case running time of any comparison sort on n inputs, thus showing that heapsort and merge sort are asymptotically optimal comparison sorts.</li>
</ul>
</li>
<li>调整heap的时间复杂度（lgn）</li>
<li><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309412.png" srcset="/img/loading.gif" lazyload alt="image-20221027133800119"></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://visualgo.net/zh/heap?slide=1">建堆演示</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010711495/article/details/117386069">建堆代码</a></p>
<ul>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309584.png" srcset="/img/loading.gif" lazyload alt="image-20221110220027078"></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://cs.stackexchange.com/questions/141748/how-is-the-reccurence-of-max-heapify-tn-t2n-3-theta1">堆的左子树的结点个数的限制</a></p>
</li>
<li><p>计算父节点或者左右子节点的时候*2 或&#x2F;2 可以用计算机的shift bit进行计算</p>
</li>
</ul>
<h4 id="max-heapify的时间复杂度（粗略的O-和-更贴合的Ω）"><a href="#max-heapify的时间复杂度（粗略的O-和-更贴合的Ω）" class="headerlink" title="max-heapify的时间复杂度（粗略的O 和 更贴合的Ω）"></a>max-heapify的时间复杂度（粗略的O 和 更贴合的Ω）</h4><p>We can compute a simple upper bound on the running time of BUILD-MAX- HEAP as follows. Each call to MAX-HEAPIFY costs O(nlgn) time, and BUILD- MAX-HEAP makes O(n) such calls. Thus, the running time is O(nlgn). This upper bound, though correct, is not asymptotically tight.</p>
<p>We can derive a tighter bound by observing that the time for MAX-HEAPIFY torun at a node varies with the height of the node in the tree, and the heights of most nodes are small. Our tighter analysis relies on the properties that an  n-element heap has height </p>
<p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309702.png" srcset="/img/loading.gif" lazyload alt="image-20221112091149489"></p>
<p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309638.png" srcset="/img/loading.gif" lazyload alt="image-20221112203441025"></p>
<p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309827.png" srcset="/img/loading.gif" lazyload alt="image-20221112203427151"></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/feliciafay/article/details/12869179">叶子节点开始的下标</a></p>
<ul>
<li><p>只需要求出叶子节点上一层的结点个数 大概为总结点个数的一半</p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310023.png" srcset="/img/loading.gif" lazyload alt="image-20221112092704508"></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310505.png" srcset="/img/loading.gif" lazyload alt="image-20221112094046683"></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310044.png" srcset="/img/loading.gif" lazyload alt="image-20221112203126918"></p>
</li>
</ul>
<h3 id="time-complexity"><a href="#time-complexity" class="headerlink" title="time complexity"></a>time complexity</h3><ul>
<li><p>best case(all elements are identical) <a target="_blank" rel="noopener" href="https://cs.stackexchange.com/questions/138432/running-time-of-heap-sort-when-all-number-are-identical">proof</a></p>
<ul>
<li><p>The best case for heapsort would happen when all elements in the list to be sorted are identical. In such a case, for ‘n’ number of nodes-</p>
</li>
<li><p>Removing each node from the heap would take only a constant runtime, O(1). There would be no need to bring any node down or bring max valued node up, as all items are identical.</p>
</li>
<li><p>Since we do this for every node, the total number of moves would be n * O(1).</p>
<p>Therefore, the runtime in the best case would be O(n).</p>
</li>
</ul>
</li>
</ul>
<h3 id="code-c"><a href="#code-c" class="headerlink" title="code c++"></a>code c++</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">heapify</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> N, <span class="hljs-type">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// Find largest among root, left child and right child</span><br> <br>    <span class="hljs-comment">// Initialize largest as root</span><br>    <span class="hljs-type">int</span> largest = i;<br> <br>    <span class="hljs-comment">// left = 2*i + 1</span><br>    <span class="hljs-type">int</span> left = <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>;<br> <br>    <span class="hljs-comment">// right = 2*i + 2</span><br>    <span class="hljs-type">int</span> right = <span class="hljs-number">2</span> * i + <span class="hljs-number">2</span>;<br> <br>    <span class="hljs-comment">// If left child is larger than root</span><br>    <span class="hljs-keyword">if</span> (left &lt; N &amp;&amp; arr[left] &gt; arr[largest])<br> <br>        largest = left;<br> <br>    <span class="hljs-comment">// If right child is larger than largest</span><br>    <span class="hljs-comment">// so far</span><br>    <span class="hljs-keyword">if</span> (right &lt; N &amp;&amp; arr[right] &gt; arr[largest])<br> <br>        largest = right;<br> <br>    <span class="hljs-comment">// Swap and continue heapifying if root is not largest</span><br>    <span class="hljs-comment">// If largest is not root</span><br>    <span class="hljs-keyword">if</span> (largest != i) &#123;<br> <br>        <span class="hljs-built_in">swap</span>(&amp;arr[i], &amp;arr[largest]);<br> <br>        <span class="hljs-comment">// Recursively heapify the affected</span><br>        <span class="hljs-comment">// sub-tree</span><br>        <span class="hljs-built_in">heapify</span>(arr, N, largest);<br>    &#125;<br>&#125;<br> <br><span class="hljs-comment">// Main function to do heap sort</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">heapSort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> N)</span></span><br><span class="hljs-function"></span>&#123;<br> <br>    <span class="hljs-comment">// Build max heap</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = N / <span class="hljs-number">2</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br> <br>        <span class="hljs-built_in">heapify</span>(arr, N, i);<br> <br>    <span class="hljs-comment">// Heap sort</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = N - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br> <br>        <span class="hljs-built_in">swap</span>(&amp;arr[<span class="hljs-number">0</span>], &amp;arr[i]);<br> <br>        <span class="hljs-comment">// Heapify root element to get highest element at</span><br>        <span class="hljs-comment">// root again</span><br>        <span class="hljs-built_in">heapify</span>(arr, i, <span class="hljs-number">0</span>);<br>    &#125;<br>&#125;<br> <br><span class="hljs-comment">// A utility function to print array of size n</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printArray</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> N)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, arr[i]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br> <br><span class="hljs-comment">// Driver&#x27;s code</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> arr[] = &#123; <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span> &#125;;<br>    <span class="hljs-type">int</span> N = <span class="hljs-built_in">sizeof</span>(arr) / <span class="hljs-built_in">sizeof</span>(arr[<span class="hljs-number">0</span>]);<br> <br>    <span class="hljs-comment">// Function call</span><br>    <span class="hljs-built_in">heapSort</span>(arr, N);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sorted array is\n&quot;</span>);<br>    <span class="hljs-built_in">printArray</span>(arr, N);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/cpp-program-for-heap-sort/">reference</a></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="merge-sorting"><a href="#merge-sorting" class="headerlink" title="merge sorting"></a>merge sorting</h2><ul>
<li><p>对两个有序的子序列 </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/124356219">basics</a></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152309476.png" srcset="/img/loading.gif" lazyload alt="image-20221112232227825"></p>
</li>
<li><p>The recursion “bottoms out” when the sequence to be sorted has length 1, in which</p>
<p>case there is no work to be done, since every sequence of length 1 is already in</p>
<p>sorted order.</p>
</li>
</ul>
<h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><p>When merging two sorted arrays into a single larger one, we need space to hold the merged result. Since the arrays we’ll be combining have O(n) items, we’ll need O(n) space in total but because we are doing recursion calls so this extra array is goin to be copied log (n) times so the space complexity is O(n log n) here.</p>
<ul>
<li>merge用两个辅助数组</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-type">void</span> Merge(T Data[], <span class="hljs-type">int</span> <span class="hljs-keyword">start</span>, <span class="hljs-type">int</span> mid, <span class="hljs-type">int</span> <span class="hljs-keyword">end</span>)&#123;<br>	<span class="hljs-type">int</span> len1 = mid-<span class="hljs-keyword">start</span>+<span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>merge用一个辅助数组</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Merge</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> low, <span class="hljs-type">int</span> mid, <span class="hljs-type">int</span> high)</span></span>&#123;<br>	<span class="hljs-type">int</span> i = low; <span class="hljs-type">int</span> j = mid + <span class="hljs-number">1</span>; <span class="hljs-type">int</span> k = low;<br>	<span class="hljs-type">int</span>[] auxiliaryArr = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[high+<span class="hljs-number">1</span>];<br>	<span class="hljs-keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= high)&#123;<br>		<span class="hljs-keyword">if</span> (arr[i] &lt; arr[j])&#123;<br>			auxiliaryArr[k++] = arr[i++];&#125;<br>		<span class="hljs-keyword">else</span>&#123;<br>			auxiliaryArr[k++] = arr[j++];&#125;<br>         &#125;<br>	<span class="hljs-keyword">while</span> (i &lt;= mid)&#123;<br>		auxiliaryArr[k++] = arr[i++];&#125;<br>	<span class="hljs-keyword">while</span> (j &lt;= high)&#123;<br>         auxiliaryArr[k++] = arr[j++];&#125;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> r = low; r &lt;= high; r++)&#123;<br>		arr[r] = auxiliaryArr[r];&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310564.png" srcset="/img/loading.gif" lazyload alt="image-20221113111430021"></p>
</li>
<li><p>&#96;&#96;&#96;c++<br>void merge(vector<Comparable>&amp; a, int L, int R, int RightEnd) {<br>int size &#x3D; a.size();<br>int LeftEnd &#x3D; R - 1;<br>int p &#x3D; L;<br>int num &#x3D; RightEnd - L + 1;<br>vector<Comparable> tmp(size);<br>while (L &lt;&#x3D; LeftEnd &amp;&amp; R &lt;&#x3D; RightEnd) {<br>    if (a[L] &lt;&#x3D; a[R])<br>        tmp[p++] &#x3D; a[L++];<br>    else<br>        tmp[p++] &#x3D; a[R++];<br>}<br>while (L &lt;&#x3D; LeftEnd)<br>    tmp[p++] &#x3D; a[L++];<br>while (R &lt;&#x3D; RightEnd)<br>    tmp[p++] &#x3D; a[R++];<br>for (int i &#x3D; 0; i &lt;num; i++,RightEnd–)<br>    a[RightEnd] &#x3D; tmp[RightEnd];<br>}</p>
<p>template <class Comparable><br>void mergeImproved( vector<Comparable> &amp;a ) {<br>int n &#x3D; a.size();<br>int i, s;<br>int t &#x3D; 1;<br>while (t &lt; n) {<br>    s &#x3D; t;<br>    t <em>&#x3D; 2;<br>    i &#x3D; 0;<br>    while (i + t &lt; n) {<br>        merge(a, i, i + s, i + 2</em>s - 1);<br>        i &#x3D; i + t;<br>    }<br>    if (i + s &lt; n) {<br>        merge(a, i, i + s, n - 1);<br>    }<br>}<br>}</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><code class="hljs llvm"><br>  <br><br>### top-down(recursive)<br><br>- References: http://csg.sph.umich.edu/abecasis/class/<span class="hljs-number">2006</span>/<span class="hljs-number">615.09</span>.pdf<br><br>### bottom-up(non-recursive)<br><br>- ![image<span class="hljs-number">-20221113112739158</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309346</span>.png)<br><br>### time complexity<br><br>#### 次数分析（时间复杂度）<br><br>- ![image<span class="hljs-number">-20221113113901708</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309672</span>.png)<br><br>[reference](https://zhuanlan.zhihu.com/p/<span class="hljs-number">341225128</span>#:~:text<span class="hljs-operator">=</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%88</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%93</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E4</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%80</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%8</span>F<span class="hljs-variable">%E6</span><span class="hljs-variable">%97</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%97</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%82</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%3</span>A<span class="hljs-variable">%20</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BF</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%82</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%3</span>A<span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%97</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%85</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%A7</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E4</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%89</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%97</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E6</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%97</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%80</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%81</span><span class="hljs-variable">%20</span>m<span class="hljs-variable">%2</span>Bn<span class="hljs-number">-1</span><span class="hljs-variable">%20</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AF</span><span class="hljs-variable">%94</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%BE</span><span class="hljs-variable">%83</span><span class="hljs-variable">%20</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%AE</span><span class="hljs-variable">%97</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%B3</span><span class="hljs-variable">%95</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%97</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%97</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%82</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>E<span class="hljs-variable">%90</span><span class="hljs-variable">%3</span>A<span class="hljs-variable">%20</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%AE</span><span class="hljs-variable">%BE</span><span class="hljs-variable">%20</span>n<span class="hljs-variable">%20</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BE</span><span class="hljs-variable">%85</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%85</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-punctuation">,</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%AE</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%85</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%97</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%88</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%80</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%AB</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%89</span><span class="hljs-variable">%20</span>n<span class="hljs-variable">%20</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%AE</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%85</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%97</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%89</span><span class="hljs-variable">%80</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%80</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%81</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AF</span><span class="hljs-variable">%94</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%BE</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%93</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E4</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%E6</span><span class="hljs-variable">%AC</span><span class="hljs-variable">%A1</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%20</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%A9</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%97</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%82</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>E<span class="hljs-variable">%90</span><span class="hljs-variable">%3</span>A<span class="hljs-variable">%20</span>O<span class="hljs-variable">%20</span><span class="hljs-variable">%28</span>n<span class="hljs-variable">%29</span><span class="hljs-variable">%2</span>C<span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>C<span class="hljs-variable">%80</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%81</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%80</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%A2</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%E5</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%96</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span>n<span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%20</span>I<span class="hljs-variable">%20</span><span class="hljs-variable">%5</span>B<span class="hljs-variable">%5</span>D)<br><br>[数比较次数](https://math.stackexchange.com/questions/<span class="hljs-number">3649182</span>/merge-sort-maximum-comparisons)<br><br>- 例子：<br>  假设二路归并<br>  <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br>  <span class="hljs-number">12</span>  <span class="hljs-number">34</span>   **<span class="hljs-number">2</span>次**<br>  <span class="hljs-number">2</span>&lt;<span class="hljs-number">4</span>  <span class="hljs-number">2</span>&lt;<span class="hljs-number">3</span>  **<span class="hljs-number">2</span>次**   不用再继续  共<span class="hljs-number">4</span>次<br>  <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> 有序<br><br>  <span class="hljs-number">2314</span> <br>  <span class="hljs-number">23</span>  <span class="hljs-number">14</span>  **<span class="hljs-number">2</span>次**<br>  <span class="hljs-number">3</span>&lt;<span class="hljs-number">4</span>  <span class="hljs-number">3</span>&gt;<span class="hljs-number">1</span>  **<span class="hljs-number">2</span>次**   再用<span class="hljs-number">2</span>比较<br>  <span class="hljs-number">2</span>&gt;<span class="hljs-number">1</span>       **<span class="hljs-number">1</span>次**   插入<br>  <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> 有序  共<span class="hljs-number">5</span>次<br><br>- 极端的例子 <span class="hljs-number">1357</span> <span class="hljs-number">2468</span> ：每一个都要互相比较 m+n<span class="hljs-number">-1</span>可以比完一个序列 然后最后一个数字没有比较直接加在尾巴就好<br><br>- [非递归](https://www.cnblogs.com/xing<span class="hljs-number">901022</span>/p/<span class="hljs-number">3671771</span>.html)<br><br>- [非递归](https://www.cnblogs.com/liushang<span class="hljs-number">0419</span>/archive/<span class="hljs-number">2011</span>/<span class="hljs-number">09</span>/<span class="hljs-number">19</span>/<span class="hljs-number">2181476</span>.html#:~:text<span class="hljs-operator">=</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%9</span>E<span class="hljs-variable">%E9</span><span class="hljs-variable">%80</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%AE</span><span class="hljs-variable">%9</span>E<span class="hljs-variable">%E7</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%B0</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%82</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%8</span>B<span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E6</span><span class="hljs-variable">%80</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%E6</span><span class="hljs-variable">%83</span><span class="hljs-variable">%B3</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%92</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E9</span><span class="hljs-variable">%80</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%A3</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>B<span class="hljs-variable">%B8</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%8</span>D<span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E5</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%9</span>F<span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%A5</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%80</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%BF</span><span class="hljs-variable">%87</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%A8</span><span class="hljs-variable">%8</span>B<span class="hljs-variable">%E6</span><span class="hljs-variable">%98</span><span class="hljs-variable">%AF</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BE</span><span class="hljs-variable">%85</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>B<span class="hljs-variable">%86</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%88</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%80</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%88</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>B<span class="hljs-variable">%B4</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%87</span><span class="hljs-variable">%B3</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>B<span class="hljs-variable">%86</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%88</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%B1</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%89</span><span class="hljs-variable">%A9</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%8</span>B<span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%80</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%85</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E7</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%AE</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%84</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E6</span><span class="hljs-variable">%96</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%88</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E3</span><span class="hljs-variable">%80</span><span class="hljs-variable">%82</span><span class="hljs-punctuation">,</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%89</span><span class="hljs-variable">%80</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%A5</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%9</span>E<span class="hljs-variable">%E9</span><span class="hljs-variable">%80</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%92</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%80</span><span class="hljs-variable">%9</span>D<span class="hljs-variable">%E6</span><span class="hljs-variable">%83</span><span class="hljs-variable">%B3</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E5</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>B<span class="hljs-variable">%B8</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%82</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%85</span><span class="hljs-variable">%83</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%A0</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%85</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E5</span><span class="hljs-variable">%AF</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%E3</span><span class="hljs-variable">%80</span><span class="hljs-variable">%82</span><span class="hljs-variable">%20</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%94</span><span class="hljs-variable">%A8merge</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%87</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%96</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%AC</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E6</span><span class="hljs-variable">%9</span>E<span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%88</span><span class="hljs-variable">%90</span>n<span class="hljs-variable">%2</span>F<span class="hljs-number">2</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%95</span><span class="hljs-variable">%BF</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%BA2</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E5</span><span class="hljs-variable">%A5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%90</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AE</span><span class="hljs-variable">%B5</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%84</span><span class="hljs-variable">%B6</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%90</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%E5</span><span class="hljs-variable">%86</span><span class="hljs-variable">%8</span>D<span class="hljs-variable">%E5</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%86</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%96</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%AC</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E6</span><span class="hljs-variable">%88</span><span class="hljs-variable">%90</span><span class="hljs-variable">%E9</span><span class="hljs-variable">%95</span><span class="hljs-variable">%BF</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%BA4</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>A<span class="hljs-variable">%84</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%90</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AE</span><span class="hljs-variable">%B5</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E5</span><span class="hljs-variable">%A6</span><span class="hljs-variable">%82</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%A4</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%A7</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%AD</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%8</span>B<span class="hljs-variable">%E5</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%BB</span><span class="hljs-variable">%EF</span><span class="hljs-variable">%BC</span><span class="hljs-variable">%8</span>C<span class="hljs-variable">%E7</span><span class="hljs-variable">%9</span>B<span class="hljs-variable">%B4</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%87</span><span class="hljs-variable">%B3</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%E4</span><span class="hljs-variable">%B8</span><span class="hljs-variable">%AA</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%95</span><span class="hljs-variable">%B0</span><span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%84</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%92</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%A5</span><span class="hljs-variable">%BD</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%BA</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%E3</span><span class="hljs-variable">%80</span><span class="hljs-variable">%82</span>)<br><br>#### every element is same<br><br>- [还是O(nlogn)](https://stackoverflow.com/questions/<span class="hljs-number">66921626</span>/running-time-of-merge-sort-all-elements-are-identical)<br><br>### space complexity<br><br>- ![image<span class="hljs-number">-20221117230415591</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211172318365</span>.png)<br><br>- O(n)<br><br>## redix sort<br><br>- [animation](https://yongdanielliang.github.io/animation/web/RadixSort.html)<br><br>- 次位优先 （least significant digit first<br><br>  ![image<span class="hljs-number">-20221027144856339</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309963</span>.png)<br><br>- ![image<span class="hljs-number">-20221112231135913</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309253</span>.png)<br><br>- ![image<span class="hljs-number">-20221119214322667</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211192143157</span>.png)<br><br>## heap sort<br><br>- heap可以用priority queue实现<br>- Heapsort<span class="hljs-punctuation">,</span> presented in Chapter <span class="hljs-number">6</span><span class="hljs-punctuation">,</span> sorts n numbers in place in O(n lg n) time. It uses an important data structure<span class="hljs-punctuation">,</span> called a heap<span class="hljs-punctuation">,</span> with which we can also implement a priority queue.<br>- Using this model<span class="hljs-punctuation">,</span> we prove a lower bound of Ω(n lg n) on the worst-case running time of any comparison sort on n inputs<span class="hljs-punctuation">,</span> thus showing that heapsort <span class="hljs-keyword">and</span> merge sort are asymptotically optimal comparison sorts.<br><br>堆总是一棵完全二叉树。<br><br>[建堆演示](https://visualgo.net/zh/heap?slide<span class="hljs-operator">=</span><span class="hljs-number">1</span>)<br><br>[建堆代码](https://blog.csdn.net/u<span class="hljs-number">010711495</span>/article/details/<span class="hljs-number">117386069</span>)<br><br>- ![image<span class="hljs-number">-20221110220027078</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309584</span>.png)<br><br>- [堆的左子树的结点个数的限制](https://cs.stackexchange.com/questions/<span class="hljs-number">141748</span>/how-is-the-reccurence-of-<span class="hljs-keyword">max</span>-heapify-tn-t<span class="hljs-number">2</span>n<span class="hljs-number">-3</span>-theta<span class="hljs-number">1</span>)<br><br>- 计算父节点或者左右子节点的时候*<span class="hljs-number">2</span> 或/<span class="hljs-number">2</span> 可以用计算机的shift bit进行计算<br><br>#### <span class="hljs-keyword">max</span>-heapify的时间复杂度（粗略的O 和 更贴合的Ω）<br><br>We can compute a simple upper bound on the running time of BUILD-MAX- HEAP as follows. Each <span class="hljs-keyword">call</span> <span class="hljs-keyword">to</span> MAX-HEAPIFY costs O(nlgn) time<span class="hljs-punctuation">,</span> <span class="hljs-keyword">and</span> BUILD- MAX-HEAP makes O(n) such calls. Thus<span class="hljs-punctuation">,</span> the running time is O(nlgn). This upper bound<span class="hljs-punctuation">,</span> though correct<span class="hljs-punctuation">,</span> is not asymptotically tight.<br><br>We can derive a tighter bound by observing that the time for MAX-HEAPIFY torun at a node varies with the height of the node in the tree<span class="hljs-punctuation">,</span> <span class="hljs-keyword">and</span> the heights of most nodes are small. Our tighter analysis relies on the properties that an  n-element heap has height <br><br>![image<span class="hljs-number">-20221112091149489</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309702</span>.png)<br><br>![image<span class="hljs-number">-20221112203441025</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309638</span>.png)<br><br>![image<span class="hljs-number">-20221112203427151</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152309827</span>.png)<br><br>[叶子节点开始的下标](https://blog.csdn.net/feliciafay/article/details/<span class="hljs-number">12869179</span>)<br><br>- 只需要求出叶子节点上一层的结点个数 大概为总结点个数的一半<br>- ![image<span class="hljs-number">-20221112092704508</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310023</span>.png)<br>- ![image<span class="hljs-number">-20221112094046683</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310505</span>.png)<br><br>- ![image<span class="hljs-number">-20221112203126918</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310044</span>.png)<br><br><br><br>### time complexity <br><br>- best case(all elements are identical) [proof](https://cs.stackexchange.com/questions/<span class="hljs-number">138432</span>/running-time-of-heap-sort-when-all-number-are-identical)<br><br>  - The best case for heapsort would happen when all elements in the list <span class="hljs-keyword">to</span> be sorted are identical. In such a case<span class="hljs-punctuation">,</span> for &#x27;n&#x27; number of nodes-<br><br>  - Removing each node from the heap would take only a <span class="hljs-keyword">constant</span> runtime<span class="hljs-punctuation">,</span> O(<span class="hljs-number">1</span>). There would be no need <span class="hljs-keyword">to</span> bring any node down <span class="hljs-keyword">or</span> bring <span class="hljs-keyword">max</span> valued node up<span class="hljs-punctuation">,</span> as all items are identical.<br><br>  - Since we do this for every node<span class="hljs-punctuation">,</span> the total number of moves would be n * O(<span class="hljs-number">1</span>).<br><br>    Therefore<span class="hljs-punctuation">,</span> the runtime in the best case would be O(n).<br><br>### code <span class="hljs-keyword">c</span>++<br><br>[reference](https://www.geeksforgeeks.org/cpp-program-for-heap-sort/)<br><br>## quick sort<br><br>- ![image<span class="hljs-number">-20221112205348607</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310677</span>.png)<br><br>### features:<br><br>-  divide-<span class="hljs-keyword">and</span>-conquer<br><br>  - <span class="hljs-number">1</span>. Divide: Partition the list.To partition the list<span class="hljs-punctuation">,</span> we first choose some element from the list for which we hope about half the elements will come before <span class="hljs-keyword">and</span> half after. Call this element the pivot. Then we partition the elements so that all those with values less than the pivot come in <span class="hljs-keyword">one</span> sublist <span class="hljs-keyword">and</span> all those with greater values come in another. <span class="hljs-number">2</span>. Recursion: Recursively sort the sublists separately. <span class="hljs-number">3</span>. Conquer: Put the sorted sublists together.<br><br>  - <span class="hljs-number">3</span> steps<br><br>  - ![image<span class="hljs-number">-20221112205710744</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310063</span>.png)<br><br>    <br>  <br>  ![image<span class="hljs-number">-20221112205746761</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310327</span>.png)<br><br>### partitioning: <br><br>- ![image<span class="hljs-number">-20221112211056367</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310514</span>.png)<br><br>- The running time of quicksort depends on whether the partitioning is balanced <span class="hljs-keyword">or</span> unbalanced<span class="hljs-punctuation">,</span> which in turn depends on which elements are used for partitioning. If the partitioning is balanced<span class="hljs-punctuation">,</span> the algorithm runs asymptotically as <span class="hljs-keyword">fast</span> as merge sort. If the partitioning is unbalanced<span class="hljs-punctuation">,</span> however<span class="hljs-punctuation">,</span> it can run asymptotically as slowly as insertion sort.<br><br>#### wost case partition<br><br>- ![image<span class="hljs-number">-20221112212238759</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310967</span>.png)<br><br>#### bast case partition<br><br>- ![image<span class="hljs-number">-20221112212327125</span>](https://raw.githubusercontent.com/pinkyrie/pic/main/<span class="hljs-number">202211152310289</span>.png)<br><br>### code<br><br>```<span class="hljs-keyword">c</span>++<br>template &lt;class Comparable&gt;<br>void choosePivot( vector&lt;Comparable&gt; &amp;a<span class="hljs-punctuation">,</span> int first<span class="hljs-punctuation">,</span> int last ) &#123;<br>	srand(time(NULL))<span class="hljs-comment">;</span><br>	int random <span class="hljs-operator">=</span> first + rand() % (last - first)<span class="hljs-comment">;</span><br>	objectSwap(a[random]<span class="hljs-punctuation">,</span> a[first])<span class="hljs-comment">;//随机找到第一个数字作为pivot</span><br>&#125;<br><br>template &lt;class Comparable&gt;<br>void partition( vector&lt;Comparable&gt; &amp;a<span class="hljs-punctuation">,</span> int first<span class="hljs-punctuation">,</span> int last<span class="hljs-punctuation">,</span> int &amp;pivotIndex )&#123;<br>	choosePivot(a<span class="hljs-punctuation">,</span> first<span class="hljs-punctuation">,</span> last)<span class="hljs-comment">;</span><br>	int i <span class="hljs-operator">=</span> first<span class="hljs-punctuation">,</span> j <span class="hljs-operator">=</span> last<span class="hljs-comment">;</span><br>	while (i &lt;<span class="hljs-operator">=</span> j) &#123;<br>		while (i &lt;<span class="hljs-operator">=</span> j &amp;&amp; a[i] &lt;<span class="hljs-operator">=</span> a[pivotIndex])<br>			i++<span class="hljs-comment">;</span><br>		while (i &lt;<span class="hljs-operator">=</span> j &amp;&amp; a[j] &gt; a[pivotIndex])<br>			j--<span class="hljs-comment">;</span><br>		if (i &lt; j) &#123;<br>			objectSwap(a[j]<span class="hljs-punctuation">,</span> a[i])<span class="hljs-comment">;</span><br>			i++<span class="hljs-comment">;</span><br>			j--<span class="hljs-comment">;</span><br>		&#125;<br>	&#125;<br>	objectSwap(a[pivotIndex]<span class="hljs-punctuation">,</span> a[j])<span class="hljs-comment">;</span><br>	pivotIndex <span class="hljs-operator">=</span> j<span class="hljs-comment">;</span><br><span class="hljs-comment"></span><br>&#125;<br><br>template &lt;class Comparable&gt;<br>void quicksort( vector&lt;Comparable&gt; &amp;a<span class="hljs-punctuation">,</span> int first<span class="hljs-punctuation">,</span> int last ) &#123;<br>	if (last &lt;<span class="hljs-operator">=</span> first)<br>		return<span class="hljs-comment">;</span><br>	if (first &lt; last) &#123;<br>		int pivotIndex <span class="hljs-operator">=</span> first<span class="hljs-comment">;</span><br>		partition(a<span class="hljs-punctuation">,</span> first<span class="hljs-punctuation">,</span> last<span class="hljs-punctuation">,</span> pivotIndex)<span class="hljs-comment">;</span><br>		quicksort(a<span class="hljs-punctuation">,</span> first<span class="hljs-punctuation">,</span> pivotIndex - <span class="hljs-number">1</span>)<span class="hljs-comment">;</span><br>		quicksort(a<span class="hljs-punctuation">,</span> pivotIndex + <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> last)<span class="hljs-comment">;</span><br>	&#125;<br>&#125;<br><br>template &lt;class Comparable&gt;<br>void quicksort( vector&lt;Comparable&gt; &amp;a ) &#123;<br>	int first <span class="hljs-operator">=</span> <span class="hljs-number">0</span><span class="hljs-comment">;</span><br>	int last <span class="hljs-operator">=</span> a.size() - <span class="hljs-number">1</span><span class="hljs-comment">;</span><br>	quicksort(a<span class="hljs-punctuation">,</span> first<span class="hljs-punctuation">,</span> last)<span class="hljs-comment">;</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="比较次数-x2F-移动次数"><a href="#比较次数-x2F-移动次数" class="headerlink" title="比较次数&#x2F;移动次数"></a>比较次数&#x2F;移动次数</h3><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/XueWang1/article/details/78118758">compare times</a></li>
</ul>
<h3 id="time-complexity-1"><a href="#time-complexity-1" class="headerlink" title="time complexity"></a>time complexity</h3><h4 id="worst-case"><a href="#worst-case" class="headerlink" title="worst case"></a>worst case</h4><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/when-does-the-worst-case-of-quicksort-occur/">reference</a></p>
</li>
<li><p>\1) Array is already sorted in the same order.<br>\2) Array is already sorted in reverse order.<br>\3) All elements are the same (a special case of cases 1 and 2) </p>
</li>
<li><p>演示比较次数和交换次数（worst case）<a target="_blank" rel="noopener" href="https://iq.opengenus.org/worst-case-of-quick-sort/">reference</a></p>
</li>
</ul>
<h3 id="space-complexity"><a href="#space-complexity" class="headerlink" title="space complexity"></a>space complexity</h3><ul>
<li>Choose a pivot somehow.</li>
<li>Partition the array into two parts (smaller than the pivot, larger than the pivot).</li>
<li>Recursively sort the first part, then recursively sort the second part.</li>
</ul>
<p>Each recursive call uses O(1) words in local variables, hence the total space complexity is proportional to the height of the recursion tree.</p>
<p>The height of the recursion tree is always at least Ω(log⁡n), hence this is a <em>lower bound</em> on the space complexity. If you choose the pivot at random or using a good heuristic, then the recursion tree will have height O(log⁡n), and so the space complexity is Θ(logn)Θ(log⁡n). If the pivot can be chosen adversarially, you can cause the recursion tree to have height Θ(n)Θ(n), causing the worst-case space complexity to be Θ(n).</p>
<h2 id="decision-tree-model"><a href="#decision-tree-model" class="headerlink" title="decision tree model"></a>decision tree model</h2><p>- </p>
<h2 id="递归树推算递归的时间复杂度"><a href="#递归树推算递归的时间复杂度" class="headerlink" title="递归树推算递归的时间复杂度"></a>递归树推算递归的时间复杂度</h2><ul>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310697.png" srcset="/img/loading.gif" lazyload alt="image-20221113103554258"></p>
</li>
<li><p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211152310442.png" srcset="/img/loading.gif" lazyload alt="image-20221113103710337"></p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/pinkyrie/pic/main/202211192134408.png" srcset="/img/loading.gif" lazyload alt="image-20221119213401509"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div></div>
      <div>https://pinkyrie.github.io/2022/11/15/15/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>rye</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年11月15日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/11/16/12/" title="">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/10/16/leetcode/" title="1-n的数字中一共出现了多少个1">
                        <span class="hidden-mobile">1-n的数字中一共出现了多少个1</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"z6kPdFlVkFWWzz9Zmobe3xRx-gzGzoHsz","appKey":"navfm2ILQsTrHFofwkEkIues","path":"window.location.pathname","placeholder":"Please leave your comments here :)","avatar":"wavatar","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://z6kpdflv.lc-cn-n1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
